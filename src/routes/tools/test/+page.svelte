<script>
    import {getClosestWan, getNextWAN, getPreviousWAN} from "$lib/timeUtils";
    import BlurHash from "$lib/history/BlurHash.svelte";
    import LargerLazyLoad from "$lib/LargerLazyLoad.svelte";
    import LatenessVotingTest from "./LatenessVotingTest.svelte";

    const tomorrow = new Date();
    tomorrow.setDate(tomorrow.getDate() + 1);

    const yesterday = new Date();
    yesterday.setDate(yesterday.getDate() - 1);

</script>
<div class="limit mx-auto">
    Creator: <svg>
        <path fill="white" fill-rule="evenodd" clip-rule="evenodd" d="M7.74991 13C7.74991 9.13336 10.41 5.888 13.9999 4.99409V4C13.9999 2.89543 14.8953 2 15.9999 2C17.1045 2 17.9999 2.89543 17.9999 4V4.99409C21.5899 5.888 24.2499 9.13336 24.2499 13V21.7049L25.2725 23.75H27V26.25H26.5224H24.4999H18.9054C18.9671 26.4897 18.9999 26.741 18.9999 27C18.9999 28.6569 17.6568 30 15.9999 30C14.3431 30 12.9999 28.6569 12.9999 27C12.9999 26.741 13.0327 26.4897 13.0944 26.25H7.99991H6.26562H5V23.75H7.09896L7.74991 21.7972V13ZM9.73419 23.75H22.4774L21.8819 22.559L21.7499 22.2951V22V13C21.7499 9.82436 19.1755 7.25 15.9999 7.25C12.8243 7.25 10.2499 9.82436 10.2499 13V22V22.2028L10.1858 22.3953L9.73419 23.75Z"/>
    </svg>
    Moderator: <svg>
        <path fill="white" fill-rule="evenodd" clip-rule="evenodd" d="M14 1.75H12.8965L12.7596 2.84496L12.45 5.32192C10.9859 5.80845 9.65633 6.58709 8.53016 7.58772L6.22759 6.61626L5.2109 6.18731L4.65916 7.14295L2.65916 10.6071L2.10742 11.5627L2.98725 12.2287L4.97818 13.7358C4.82846 14.468 4.74999 15.2254 4.74999 16C4.74999 16.7746 4.82846 17.532 4.97818 18.2642L2.98725 19.7713L2.10742 20.4373L2.65916 21.393L4.65916 24.8571L5.2109 25.8127L6.22759 25.3838L8.53017 24.4123C9.65634 25.4129 10.9859 26.1915 12.45 26.6781L12.7596 29.155L12.8965 30.25H14H18H19.1035L19.2403 29.155L19.55 26.6781C21.0141 26.1915 22.3437 25.4129 23.4698 24.4123L25.7725 25.3837L26.7891 25.8127L27.3409 24.8571L29.3409 21.393L29.8926 20.4373L29.0128 19.7713L27.0218 18.2642C27.1715 17.5319 27.25 16.7746 27.25 16C27.25 15.2254 27.1715 14.4681 27.0218 13.7358L29.0128 12.2287L29.8926 11.5627L29.3409 10.6071L27.3409 7.14295L26.7891 6.18731L25.7724 6.61626L23.4698 7.58774C22.3437 6.5871 21.0141 5.80846 19.55 5.32192L19.2403 2.84496L19.1035 1.75H18H14ZM14.8287 6.44776L15.1035 4.25H16.8965L17.1712 6.44776L17.2777 7.29972L18.1111 7.50608C19.7306 7.90707 21.1741 8.76032 22.2989 9.92659L22.8943 10.5439L23.6846 10.2105L25.7276 9.34859L26.6241 10.9014L24.8583 12.2381L24.1747 12.7556L24.4113 13.5797C24.6316 14.3469 24.75 15.1586 24.75 16C24.75 16.8414 24.6316 17.6531 24.4113 18.4203L24.1746 19.2444L24.8583 19.7619L26.6241 21.0986L25.7276 22.6514L23.6845 21.7895L22.8943 21.4561L22.2989 22.0734C21.1741 23.2397 19.7306 24.0929 18.1111 24.4939L17.2777 24.7003L17.1712 25.5522L16.8965 27.75H15.1035L14.8287 25.5522L14.7223 24.7003L13.8888 24.4939C12.2694 24.0929 10.8259 23.2397 9.70109 22.0734L9.10569 21.4561L8.31546 21.7895L6.27249 22.6514L5.37596 21.0986L7.1417 19.762L7.82535 19.2445L7.58871 18.4203C7.36841 17.6531 7.24999 16.8414 7.24999 16C7.24999 15.1586 7.36841 14.3469 7.5887 13.5797L7.82535 12.7556L7.1417 12.238L5.37596 10.9014L6.27249 9.34859L8.31545 10.2105L9.10568 10.5439L9.70108 9.92658C10.8259 8.76032 12.2694 7.90707 13.8888 7.50608L14.7223 7.29972L14.8287 6.44776ZM13.25 16C13.25 14.4812 14.4812 13.25 16 13.25C17.5188 13.25 18.75 14.4812 18.75 16C18.75 17.5188 17.5188 18.75 16 18.75C14.4812 18.75 13.25 17.5188 13.25 16ZM16 10.75C13.1005 10.75 10.75 13.1005 10.75 16C10.75 18.8995 13.1005 21.25 16 21.25C18.8995 21.25 21.25 18.8995 21.25 16C21.25 13.1005 18.8995 10.75 16 10.75Z"/>
    </svg>
    System: <svg>
        <path fill="white" fill-rule="evenodd" clip-rule="evenodd" d="M23.8839 12.8839L22.1161 11.1161L13.5 19.7322L10.3839 16.6161L8.61612 18.3839L13.5 23.2678L23.8839 12.8839Z"/>
        <path fill="white" fill-rule="evenodd" clip-rule="evenodd" d="M16 1.75C8.12994 1.75 1.75 8.12994 1.75 16C1.75 23.8701 8.12994 30.25 16 30.25C23.8701 30.25 30.25 23.8701 30.25 16C30.25 8.12994 23.8701 1.75 16 1.75ZM4.25 16C4.25 9.51065 9.51065 4.25 16 4.25C22.4893 4.25 27.75 9.51065 27.75 16C27.75 22.4893 22.4893 27.75 16 27.75C9.51065 27.75 4.25 22.4893 4.25 16Z"/>
    </svg>
    <br>
    <br>
    {getNextWAN().toLocaleTimeString(undefined, {hour12: false})}
    <br>
    <br>
    Now: {new Date()}
    <br>
    <br>

    Next: {getNextWAN()}
    <br>
    Previous: {getPreviousWAN()}
    <br>
    <br>

    <table>
        <tr>
            <td>Closest to yesterday: </td>
            <td>{getClosestWan(yesterday)}</td>
        </tr>
        <tr>
            <td>Closest to now:</td>
            <td>{getClosestWan()}</td>
        </tr>
        <tr>
            <td>Closest to tomorrow:</td>
            <td>{getClosestWan(tomorrow)}</td>
        </tr>
    </table>

    <br>
    <br>
    <LatenessVotingTest/>
    <div style="height: 100vh;"></div>
    more<br>
    more<br>
    more<br>
    more<br>
    more<br>
    this is before
    <LargerLazyLoad>
        <BlurHash blurhash={{hash: "UCC?Q2_456RiyDNGVsn,whVsNtXSTJXSxHnj", w: 320, h: 200}}/>
    </LargerLazyLoad>
    this is after
    <div style="height: 100vh;"></div>
</div>
